<html>
<head>
<script type="text/javascript">
WB_wombat_Init("https:///web", "20101219093528", "pyrorobotics.org");
</script>
 <link rel="stylesheet" href="../stylesheet.css">
<title>Pyro, Python Robotics: PyroModulePythonIntro</title> <meta http-equiv="Content-Type" content="text/html;">
</head>
<body bgcolor="#ffffff">
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
   <td width="804" colspan="8" align="center"><img src="../images/PyroLogo.gif" width="800" height="100"></td>
  </tr>
  <tr>
<td>[&nbsp;<a href="../page_Pyro/">Home</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroSoftware/">Software</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroCurriculum/">Curriculum</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroHardware/">Hardware</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroCommunity/">Community</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroWhatsNew/">News</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroPublications/">Publications</a>&nbsp;]</td><td>[&nbsp;<a href="../page_FindPage/">Search</a>&nbsp;]</td>  </tr>
</table>
<table width="804" border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="8">
<p><hr>
<p>
<i>This module is designed to introduce Python to those that have some experience with programming. This module introduces key concepts in Python. After completing this module, the reader will be ready to write their own robot controllers.</i>
<p>
<p>
<h1 width="804"> Pyro Module Python Introduction</h1>
<p>
Pyro allows you to write most of your robot programming in Python. This module is designed to introduce you to the Python language. This is not a general introduction to programming. We will assume that you are already familiar with computer programming and problem solving and have had some exposure to an object-oriented programming language.
<p>
<p>
<h2 width="804"> Using the Python Interpreter</h2>
<p>
<p>
<h3 width="804"> Starting Python</h3>
<p>
Presuming that Python is set up and installed properly on your system, starting Python only requires typing: 
<p>
<tt class="wiki">python</tt> 
<p>
at the command line.  This will open the interpreter in interactive mode (described below).
<p>
<p>
<h3 width="804"> Interactive mode</h3>
<p>
In interactive mode, the user can issue any legal command to the Python interpreter.  The interpreter replies with the output of those commands.  The output of a few simple commands issued in interactive mode are shown below:
<p>
<pre class="code">&gt;&gt;&gt; 2+2
4
&gt;&gt;&gt; 3*3*3
27</pre>
<p>
To exit interactive mode, type the end of file character (CTRL-D on UNIX systems and CTRL-Z on Windows systems).
<p>
<p>
<h3 width="804"> Running Python on a file</h3>
<p>
To tell Python to execute commands in a text file, type the name of the file after the command invoking the Python interpreter.  The interpreter will open, execute the commands in the input file, print the output generated on the terminal window, and terminate.  For example, consider the file <tt class="wiki">HelloWorld.py</tt>.
<p>
<hr>
<p>
<pre class="code">
# HelloWorld.py contains a &quot;Hello World!&quot; program in Python. 
print &quot;Hello World!&quot;
</pre>
[<a href="http://emergent.brynmawr.edu/emergent/HelloWorld_2epy?action=raw"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;download</a>] [<a href="http://emergent.brynmawr.edu/emergent/HelloWorld_2epy?action=edit"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;edit</a>]
<ol><p>
</ol><p>
<hr>
<p>
The box below shows the command to invoke the Python interpreter on this file and the resulting output:
<p>
<pre class="code">&#36; python HelloWorld.py
Hello World!</pre>
<p>
<p>
<h3 width="804"> Including other files</h3>
<p>
In Python each source file is seen as a separate <i>module</i>.  Including a source file corresponds to importing a module.  Modules are imported using the <tt class="wiki">import</tt> command.  The import command has the following form:
<p>
<tt class="wiki">import ../_3Fpage_3DPyroModulePythonIntro/_lt.css;module_name&gt;</tt>
<p>
When Python encounters an <tt class="wiki">import</tt> command, it searches in the directory where the currently running script resides for a source file with the module's name.  Python then searches any directories listed in the environment variable PYTHONPATH.  If no file corresponding to the requested module is found, Python throws an <tt class="wiki">ImportError</tt> exception.  If the file is found, however, Python reads and executes the contents of the file.  Any output generated by these commands is displayed as the file is processed.  Any identifiers defined within the file (e.g. variables, functions, and classes) are placed within a namespace identical to the module name.  Identifiers contained within a namespace can be accessed through statements of the form:
<p>
<tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;namespace&gt;.../_3Fpage_3DPyroModulePythonIntro/_lt.css;identifier&gt;</tt>
<p>
As an example of this process, consider two source files <tt class="wiki">A.py</tt>:
<p>
<hr>
<p>
<pre class="code">
# A.py 
print &quot;Importing module A&quot; 
a = 6 
aa = a*a
</pre>
[<a href="http://emergent.brynmawr.edu/emergent/A_2epy?action=raw"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;download</a>] [<a href="http://emergent.brynmawr.edu/emergent/A_2epy?action=edit"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;edit</a>]
<p>
<p>
<hr>
<p>
and <tt class="wiki">B.py</tt>
<p>
<hr>
<p>
<pre class="code">
# B.py 
print &quot;Importing module B&quot; 
b = 5 
bb = b*b
</pre>
[<a href="http://emergent.brynmawr.edu/emergent/B_2epy?action=raw"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;download</a>] [<a href="http://emergent.brynmawr.edu/emergent/B_2epy?action=edit"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;edit</a>]
<p>
<p>
<hr>
<p>
Finally, suppose there is another source file <tt class="wiki">C.py</tt> in the same directory as <tt class="wiki">A.py</tt> and <tt class="wiki">B.py</tt> which imports modules A and B and then executes a few commands:
<p>
<hr>
<p>
<pre class="code">
# C.py 
import A 
import B 
print A.a 
print A.aa 
print B.b 
print B.bb
</pre>
[<a href="http://emergent.brynmawr.edu/emergent/C_2epy?action=raw"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;download</a>] [<a href="http://emergent.brynmawr.edu/emergent/C_2epy?action=edit"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;edit</a>]
<p>
<p>
<hr>
<p>
If <tt class="wiki">python C.py</tt> were entered at the command line, the output would be:
<p>
<pre class="code">
Importing module A
Importing module B
6
36
5
25
</pre>
<p>
Two variations on the import statement are allowed.  Identifiers in a module can be imported into a namespace different from the name of the module.  In this case, the import command takes on the form:
<p>
<tt class="wiki">import ../_3Fpage_3DPyroModulePythonIntro/_lt.css;module&gt; as ../_3Fpage_3DPyroModulePythonIntro/_lt.css;alias&gt;</tt>
<p>
Instead of entering namespace <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;module&gt;</tt>, identifiers in the module enter namespace <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;alias&gt;</tt>.
<p>
Alternately, an identifier can be imported into the namespace where the import directive is being executed.  In this case, the import command takes the form:
<p>
<tt class="wiki">from ../_3Fpage_3DPyroModulePythonIntro/_lt.css;module&gt; import ../_3Fpage_3DPyroModulePythonIntro/_lt.css;identifier&gt;</tt>
<p>
To import all identifiers in a module into the current namespace, use the statement: 
<p>
<tt class="wiki">from ../_3Fpage_3DPyroModulePythonIntro/_lt.css;module&gt; import *</tt>
<p>
A new version of <tt class="wiki">C2.py</tt> which illustrates these variations on the <tt class="wiki">import</tt> statement is shown below:
<p>
<hr>
<p>
<pre class="code">
# C2.py 
import A as D 
from B import * 
print D.a 
print D.aa 
print b 
print bb
</pre>
[<a href="http://emergent.brynmawr.edu/emergent/C2_2epy?action=raw"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;download</a>] [<a href="http://emergent.brynmawr.edu/emergent/C2_2epy?action=edit"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;edit</a>]
<p>
<p>
<hr>
<p>
When run, <tt class="wiki">C2.py</tt> generates the same output as <tt class="wiki">C.py</tt>.
<p>
Here's a handy trick: Want to run Python on a file and then enter interactive mode? Run Python with the <tt class="wiki">-i</tt> flag and the system will stay in Python and give you the <tt class="wiki">&gt;&gt;&gt;</tt> prompt which allows you to interact with objects and variables created in the file.
<p>
<b>Important</b>: When you're using Python interactively you need to be careful when importing modules that you're also editing. When a module is first successfully imported, its contents is read in and executed. Further <tt class="wiki">import</tt>s of this file merely allow those identifiers that were created during this file's execution to become visible in a particular namespace. If you modify the contents of the module and are also interacting with it via the <tt class="wiki">&gt;&gt;&gt;</tt> prompt, you'll need to do a <tt class="wiki">reload</tt> to allow the changes you've made in the file to become visible. For example, if you've just modified <tt class="wiki">C.py</tt>, issuing:
<p>
<pre class="code">
reload('C') 
</pre>
<p>
would make these changes visible in your interactive session. Or suppose you had imported <tt class="wiki">C</tt> via <tt class="wiki">from C import *</tt>. Then you'd need to:
<p>
<pre class="code">
reload('C')
from C import *
</pre>
<p>
Finally, suppose you'd modified <tt class="wiki">A.py</tt> and were only using this through <tt class="wiki">C.py</tt>. Then you'd need to:
<p>
<pre class="code">
reload('A')
reload('C')
</pre>
<p>
In general, when editing multiple interdependent files, <b>it is a good idea to restart python to ensure you're executing the most recent code.</b>
<p>
<p>
<h3 width="804"> Configuring Emacs for Use with Python</h3>
Some recent versions of <tt class="wiki">Emacs</tt> and <tt class="wiki">XEmacs</tt> come with a major mode for use with Python.  To check if Python mode is installed and properly set up, open a file with a <tt class="wiki">.py</tt> extension.  (X)Emacs should detect the filename and automatically enter Python mode (if (X)Emacs is in Python mode, the word Python will appear in the message bar at the bottom of the screen and Python code will be automatically colorized).
<p>
If Python mode is not installed, installing it is relatively simple.  The file and installation instructions are available from <a href="http://www.python.org/emacs/python-mode/installation.html"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;here</a>.
<p>
<p>
<h2 width="804"> Basic Python Syntax</h2>
<p>
One of Python's distinguishing features is its use of white space instead of punctuation marks to indicate the control structure of various statements . <i>Simple statements</i> (those containing only one command) are separated by line breaks.  <i>Compound statements</i> --- including control structures and class and function definitions --- contain a <i>header</i>, which is ended by a colon, followed by a <i>body</i>.  The header controls the execution of the code in the body.  All statements following the header are considered to be part of the body until a statement with the same indentation as the header is found.  The basic structure of a compound statement follows:
<p>
<pre class="code">../_3Fpage_3DPyroModulePythonIntro/_lt.css;header&gt;:
     ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;</pre>
<p>
Also note that any line beginning with a <tt class="wiki">#</tt> is a comment.
<p>
<p>
<h2 width="804"> Basic Data Types and Structures</h2>
<p>
Python is dynamically typed.  As a result, variables are not declared before use and their types can change as new data are assigned to them. The assignment operator works in a manner similar to that in other languages except that if the variable being assigned to does not yet exist, it is created.  Also note that, for each of the arithmetic operators (described below), an augmented assignment operator, e.g. <tt class="wiki">+=</tt>, is provided.
<p>
<p>
<h3 width="804"> Integers, Floats, and Booleans</h3>
<p>
Integers and floats behave much like integers and floats in other languages.  A series of digits are integer literals.  Any integer literal can be converted into a long integer literal by appending an <tt class="wiki">L</tt> to the end of it.  Floating point literals are sequences of digits containing a single period at some point within the sequence.  Some examples of numeric literals are shown below:
<p>
<pre class="code">
42     #integer literal
42.1   #floating point literal
42L    #long integer literal
</pre>
<p>
All arithmetic operators behave as expected, with a couple subtleties. First, unlike C and C++, the exponentiation operator is <tt class="wiki">**</tt>, not <tt class="wiki">^</tt>.  When the division operator <tt class="wiki">/</tt> is used on two integers, the result is truncated; for this not to occur, at least one of the operands must have a floating point value. Floating point values can be created with an explicit cast, e.g., <tt class="wiki">float(3.14)</tt>, or by including a <tt class="wiki">1.0</tt> multiplier or a <tt class="wiki">0.0</tt> summand.
<p>
As of Python 2.3, boolean literals take on the values <tt class="wiki">True</tt> and <tt class="wiki">False</tt>. When a boolean operator is applied to another data type, it is evaluated as follows. Non-zero instances of built-in data types (including ints, long ints, floats, strings, lists, tuples, and dictionaries) evaluate to <tt class="wiki">True</tt>.  Integer, long integer and float zeros; empty strings, lists, tuples, and dictionaries; and <tt class="wiki">None</tt> all evaluate to <tt class="wiki">False</tt>. (<tt class="wiki">None</tt> is a built-in name that is Python's equivalent to a null value.)
<p>
<table border="1"><tr><td> <b>Operator</b>  </td><td>   <b>Description</b> </td></tr>
<tr><td> <tt class="wiki">not</tt>       </td><td> Boolean NOT </td></tr>
<tr><td> <tt class="wiki">and</tt>       </td><td> Boolean AND </td></tr>
<tr><td> <tt class="wiki">or</tt>        </td><td> Boolean OR </td></tr>
</table><p>
The built-in function <tt class="wiki">type</tt> can be used to find out what type an object has:
<p>
<pre class="code">
&gt;&gt;&gt; x = 42
&gt;&gt;&gt; type(x)
../_3Fpage_3DPyroModulePythonIntro/_lt.css;type 'int'&gt;
&gt;&gt;&gt; type(x*3.1)
&gt;&gt;&gt; b = not x
&gt;&gt;&gt; print b
False
&gt;&gt;&gt; type(b)
../_3Fpage_3DPyroModulePythonIntro/_lt.css;type 'bool'&gt;
</pre>
<p>
<p>
<h3 width="804"> Strings, Lists, and Tuples</h3>
<p>
Python provides three kinds of sequences. <i>Strings</i> are <b>immutable</b> sequences of characters. <i>Tuples</i> are immutable sequences and can hold data of any type. As an immutable sequence can't be modified, once you've created one, its individual elements cannot be assigned to. <i>Lists</i>, on the other hand, are mutable sequences and can hold data of any type.  
<p>
String literals can be delimited in three different ways. <tt class="wiki">&quot;</tt> and <tt class="wiki">'</tt> are valid delimiters.  A string delimited by double quote cannot contain a <tt class="wiki">&quot;</tt> and a string delimited by single quotes cannot contain a <tt class="wiki">'</tt>.  However, a string delimited by <tt class="wiki">&quot;</tt> can contain a <tt class="wiki">'</tt> and vice versa (you can also just escape a quote that you'd like to embed in the string via a <tt class="wiki">\</tt>).  Furthermore, strings delimited by <tt class="wiki">&quot;</tt> and <tt class="wiki">'</tt> cannot extend more than one line. Strings can also be delimited by three sets of quotation marks, <tt class="wiki">&quot;&quot;&quot;</tt>.  Triple-quoted strings can extend over more than one line (the line breaks are interpreted as newline characters) and can contain both <tt class="wiki">&quot;</tt> and <tt class="wiki">'</tt>.
<p>
Tuples and lists can easily be constructed from literals.  Lists are surrounded by square brackets <tt class="wiki">[ ]</tt> and tuples are surrounded by parentheses <tt class="wiki">( )</tt>.  In both lists and tuples, items are separated by commas.  
<p>
Examples of legal strings, lists, and tuples are shown below.
<p>
<pre class="code">
'Python can\'t\nbe beat!'         # single-quoted string
&quot;Python can't\nbe beat!&quot;          # single-quoted string
&quot;&quot;&quot;Python can't
be beat&quot;&quot;&quot;                       # triple-quoted string
(1,2,3,4)                        # tuple
[1,2,3,4]                        # list
</pre>   
<p>
The three sequences types present similar interfaces. Each allows concatenation with the <tt class="wiki">+</tt> operator: if <tt class="wiki">x</tt> and <tt class="wiki">y</tt> are sequences, <tt class="wiki">x+y</tt> returns a sequence with <tt class="wiki">y</tt> appended to <tt class="wiki">x</tt>.  Additionally, a sequence can be &quot;multiplied&quot; by an integer using the <tt class="wiki">*</tt> operator: if <tt class="wiki">x</tt> is sequence and <tt class="wiki">n</tt> is an integer <tt class="wiki">x*n</tt> returns the sequence <tt class="wiki">x</tt> repeated <tt class="wiki">n</tt> times. Each can be indexed: the statement <tt class="wiki">S[i]</tt> returns the <tt class="wiki">i</tt>-th element item in <tt class="wiki">S</tt> (indexing begins at <tt class="wiki">0</tt>).  Each sequence also allows <i>slicing</i>: the extraction of a subsequence. The statement <tt class="wiki">S[i:j]</tt> returns a <i>slice</i> of <tt class="wiki">S</tt>, a subsequence containing a <b>copy</b> of the <tt class="wiki">i</tt>th element through the <tt class="wiki">j-1</tt>th element of <tt class="wiki">S</tt>. Either <tt class="wiki">i</tt> or <tt class="wiki">j</tt> can be omitted. If <tt class="wiki">i</tt> is omitted, the subsequence will start at the beginning of <tt class="wiki">S</tt>. If <tt class="wiki">j</tt> is omitted, the subsequence will end at the last element of <tt class="wiki">S</tt>.  Python also provides the <tt class="wiki">in</tt> operator, which allows one to test for membership: if <tt class="wiki">x</tt> is some item and <tt class="wiki">S</tt> is a list, <tt class="wiki">x in S</tt> returns <tt class="wiki">True</tt> if and only if <tt class="wiki">x</tt> is contained in the sequence <tt class="wiki">S</tt>. The expression <tt class="wiki">x not in S</tt> returns <tt class="wiki">not (x in S)</tt>.  Finally, Python defines the function <tt class="wiki">len</tt>, which returns the number of items in a sequence. Examples of each of these sequence operations are shown below. 
<p>
<pre class="code">
&gt;&gt;&gt; x = [1,2,3]  
&gt;&gt;&gt; x+x                       # concatenate 
[1, 2, 3, 1, 2, 3]
&gt;&gt;&gt; [x, [x, 333]]             # sequences can be nested
[1, 2, 3, [[1, 2, 3], 333]]
&gt;&gt;&gt; x*3
[1, 2, 3, 1, 2, 3, 1, 2, 3]
&gt;&gt;&gt; x[0:1]
[1]
&gt;&gt;&gt; x[0:2]
[1, 2]
&gt;&gt;&gt; x[-2:]                    # negative index begins at the end
[2, 3]
&gt;&gt;&gt; x[:]                      # slices are often used because they create copies
[1, 2, 3]
&gt;&gt;&gt; y = x[:]                  # like this
&gt;&gt;&gt; 2 in x
1
&gt;&gt;&gt; len(x)
3
</pre>
<p>
The above example uses list sequences. Analogous behavior occurs if <tt class="wiki">x</tt> is a tuple or a string --- check it out!
<p>
Tuples don't always need surrounding parentheses; although context dependent, commas alone are often sufficient. One covenience of tuples is that variable values can be swapped without using temporary storage:
<p>
<pre class="code">
&gt;&gt;&gt; a = 'a'
&gt;&gt;&gt; b = 'b'
&gt;&gt;&gt; a, b
('a', 'b')
&gt;&gt;&gt; (b, a) = (a, b)
&gt;&gt;&gt; a, b
('b', 'a')
</pre>
<p>
Because lists' are <b>mutable,</b> they have a more complex interface. For instance, in lists, indexed items can be assigned to: the expression <tt class="wiki">S[i] = 6</tt> assigns the <tt class="wiki">i</tt>-th item in <tt class="wiki">S</tt> the value <tt class="wiki">6</tt>.  Similarly, a list can be assigned to a list slice.  There is no requirement that the slice and the list being assigned to have the same length.  For instance:
<p>
<pre class="code">
&gt;&gt;&gt; l, r = [1, 2, 3], [4, 5]
&gt;&gt;&gt; l[2:] = r
&gt;&gt;&gt; l
[1, 2, 4, 5]
</pre>
<p>
By assigning list <tt class="wiki">r</tt> to a slice of list <tt class="wiki">l</tt>, where <tt class="wiki">r</tt> is longer than the slice of <tt class="wiki">l</tt>, elements can be added to <tt class="wiki">l</tt>.  Elements can be deleted from <tt class="wiki">r</tt> in a similar manner:
<p>
<pre class="code">
&gt;&gt;&gt; l[:2] = []
&gt;&gt;&gt; l
[4, 5]
</pre>
<p>
Lists also provide the methods summarized below:
<p>
<table border="1"><tr><td> <tt class="wiki">s.append(x)</tt>        </td><td>    Appends element <tt class="wiki">x</tt> to list <tt class="wiki">s</tt> </td></tr>
<tr><td> <tt class="wiki">s.count(x)</tt>         </td><td>    Returns the number of times <tt class="wiki">x</tt> appears in <tt class="wiki">s</tt> </td></tr>
<tr><td> <tt class="wiki">s.extend(t)</tt>        </td><td>    Appends list <tt class="wiki">t</tt> to list <tt class="wiki">s</tt>  </td></tr>
<tr><td> <tt class="wiki">s.index(x)</tt>         </td><td>    Returns the index of the first occurrence of <tt class="wiki">x</tt> in <tt class="wiki">s</tt> (throws an exception in <tt class="wiki">x</tt> is not present) </td></tr>
<tr><td> <tt class="wiki">s.insert(i, x)</tt>     </td><td>    Inserts element <tt class="wiki">x</tt> at index <tt class="wiki">i</tt> </td></tr>
<tr><td> <tt class="wiki">s.len(x)</tt>           </td><td>    Returns the number of items in the list      </td></tr>
<tr><td> <tt class="wiki">s.pop([i])</tt>         </td><td>    Removes and returns the <tt class="wiki">i</tt>-th item in <tt class="wiki">s</tt>; if <tt class="wiki">i</tt> is not given, removes and returns the last element </td></tr>
<tr><td> <tt class="wiki">s.remove(x)</tt>        </td><td>    Removes the first occurrence of <tt class="wiki">x</tt> from <tt class="wiki">s</tt> </td></tr>
<tr><td> <tt class="wiki">s.reverse()</tt>        </td><td>    Reverses the order of items in the list </td></tr>
<tr><td> <tt class="wiki">s.sort([f])</tt>        </td><td>    Sorts items using <tt class="wiki">f</tt> to compare them; if <tt class="wiki">f</tt> is not given, a default comparison function is used </td></tr>
</table><p>
<p>
<h3 width="804"> Dictionaries</h3>
Dictionaries provide an easy way to lookup items based on key values. In a dictionary, an expression <tt class="wiki">x:y</tt> represents a key/value pair, where <tt class="wiki">x</tt> is the key and <tt class="wiki">y</tt> is the value.  A dictionary is surrounded by curly braces. Key/value pairs are separated by commas. The value associated with a given key can be found by indexing the dictionary with that key using the <tt class="wiki">[]</tt> operator. A new key/value pair can be simply added to the dictionary: merely assign the value to be added to the dictionary, indexed with the key to be added. Note: Python makes no guarantees about the order in which entries will be stored in the dictionary.
<p>
A few examples of these operations are shown below.
<p>
<pre class="code">
&gt;&gt;&gt; y = {}                     # an empty dictionary
&gt;&gt;&gt; x = {'a':1, 'b':2, 'c':3}  # starts with three elements
&gt;&gt;&gt; x['a']
1
&gt;&gt;&gt; x['d'] = 4                 # adds the mapping 'd':4 to the dictionary
&gt;&gt;&gt; x['d']
4
&gt;&gt;&gt; d = dict(a=5, b=6)         # another way to make a dictionary that doesn't require quotes
&gt;&gt;&gt; print d
{'a': 5, 'b': 6}
</pre>
<p>
Dictionaries also provide several methods:
<table border="1"><tr><td><tt class="wiki">d.copy()</tt>    </td><td> Returns a copy of dictionary <tt class="wiki">d</tt> </td></tr>
<tr><td><tt class="wiki">k in d</tt>      </td><td>Returns <tt class="wiki">True</tt> if the key <tt class="wiki">k</tt> is in dictionary <tt class="wiki">d</tt> and <tt class="wiki">False</tt> otherwise</td></tr>
<tr><td><tt class="wiki">d.items()</tt>     </td><td>Returns a list of all the key/value pairs in <tt class="wiki">d</tt></td></tr>
<tr><td><tt class="wiki">d.keys()</tt>      </td><td>Returns a list of all keys in <tt class="wiki">d</tt></td></tr>
<tr><td><tt class="wiki">d.values()</tt>    </td><td>Returns a list of all values in <tt class="wiki">d</tt></td></tr>
<tr><td><tt class="wiki">d.iteritems()</tt> </td><td>Returns an iterator over all the key/value pairs in <tt class="wiki">d</tt></td></tr>
<tr><td><tt class="wiki">d.iterkeys()</tt>  </td><td>Returns an iterator over all the keys in <tt class="wiki">d</tt></td></tr>
<tr><td><tt class="wiki">d.itervalues()</tt></td><td>Returns an iterator over all the values in <tt class="wiki">d</tt></td></tr>
<tr><td><tt class="wiki">d.get(k[,x])</tt>  </td><td>Returns <tt class="wiki">d[k]</tt> if <tt class="wiki">k</tt> is in <tt class="wiki">d</tt>, otherwise returns <tt class="wiki">x</tt> (if <tt class="wiki">x</tt> is not given, it returns <tt class="wiki">None</tt> </td></tr>
</table><p>
<p>
<h3 width="804"> Multi-Dimensional Arrays</h3>
<p>
Multi-dimensional arrays can be implemented using nested lists. One might be tempted to cascade copies like so:
<p>
<pre class="code">
&gt;&gt;&gt; x = [[0] * 5] * 10     # DON'T DO THIS!
</pre>
<p>
However, this results in 10 <b>copies</b> of the <b>same</b> 5-element array. For example, if you then take the same array and make a single change:
<p>
<pre class="code">
&gt;&gt;&gt; x[0][0] = 1
&gt;&gt;&gt; print x
[[1, 0, 0, 0, 0], 
 [1, 0, 0, 0, 0], 
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0],
 [1, 0, 0, 0, 0]]
</pre>
<p>
One could instead write a function that creates a multi-dimensional array:
<pre class="code">
def ndim(n, *args):
     if not args:
        return [0]*n
     A = []
     for i in range(n):
         A.append(ndim(*args))
     return A
</pre>
This function uses the <tt class="wiki">*args</tt> syntax, which indicates that <tt class="wiki">ndim</tt> can be called with a variable number of arguments. It also demonstrates how <tt class="wiki">append</tt> can be used to create a list of lists.
<pre class="code">
x = ndim(5, 10)
x[0][0] = 1
print x
[[1, 0, 0, 0, 0], 
 [0, 0, 0, 0, 0], 
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0]]
</pre>
Another solution is to use &quot;list comprehension,&quot; which will be discussed later.
<p>
Alternately, the <tt class="wiki">numpy package</tt>, available from <a href="http://sourceforge.net/projects/numpy/"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;http://sourceforge.net/projects/numpy/</a>, provides a class called <tt class="wiki">array</tt> which implements multi-dimensional arrays. Note that an <tt class="wiki">array</tt> can hold any type of object, not just numbers, but that each object in the array must have the same type.
<p>
<p>
<h2 width="804"> Flow of Control</h2>
All flow of control statements fall into the category of <i>compound statements</i> described in the &quot;Basic Python Syntax&quot; section.  Thus, each consists of a header followed by a series of indented statements.
<p>
<p>
<h3 width="804"> If Statements</h3>
If statements take the form:
<pre class="code">
   if ../_3Fpage_3DPyroModulePythonIntro/_lt.css;test_1&gt;:
          ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body_1&gt;
   elif ../_3Fpage_3DPyroModulePythonIntro/_lt.css;test_2&gt;:
        ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body_2&gt;
   .
   .
   .
   elif ../_3Fpage_3DPyroModulePythonIntro/_lt.css;test_n&gt;:
        ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body_n&gt;
   else:
        ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body_n+1&gt;
</pre>
<p>
Note the <tt class="wiki">elif</tt> contraction for &quot;else if&quot;. Also, neither the <tt class="wiki">elif</tt> nor the <tt class="wiki">else</tt> clause is syntactically  necessary. The operation of the <tt class="wiki">if</tt> statement is straightforward. If <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;test_1&gt;</tt> is true, then <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;body_1&gt;</tt> executes. If no <tt class="wiki">elif</tt> or <tt class="wiki">else</tt> statements are present, execution proceeds after the end of the <tt class="wiki">if</tt> block. If some are present, then each of the <tt class="wiki">elif</tt> tests are evaluated until one is found which is true, at which point the associated body is executed. If none of the tests are true and an <tt class="wiki">else</tt> clause is present, the body associated with the <tt class="wiki">else</tt> clause is executed.
<ol><p>
</ol><p>
<h3 width="804"> Looping Statements (for and while)</h3>
The <tt class="wiki">while</tt> statement is similar to that in many other languages. It has the following syntactical form:
<pre class="code">
while ../_3Fpage_3DPyroModulePythonIntro/_lt.css;test&gt;:
     ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;
</pre>
As long as <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;test&gt;</tt> continues to evaluate to <tt class="wiki">True</tt>, the loop will continue to execute <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;</tt>.
<p>
The <tt class="wiki">for</tt> statement in Python is designed for iteration over containers.  Its syntax is:
<pre class="code">
for ../_3Fpage_3DPyroModulePythonIntro/_lt.css;var&gt; in ../_3Fpage_3DPyroModulePythonIntro/_lt.css;container&gt;:
     ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;
</pre>
The following code snippet and its resulting output shows the typical use of a <tt class="wiki">for</tt> loop:
<pre class="code">
&gt;&gt;&gt;for char in &quot;abcd&quot;:
...     print char
...
a
b
c
d
</pre>
<p>
<tt class="wiki">for</tt> loops provide easy iteration over containers. However, it is often desirable to execute the body of a loop some number of times and to have a variable inside the loop indicate which iteration is in progress. One option would be to create list containing integers from <tt class="wiki">1</tt> to <tt class="wiki">n</tt>, where n is the number of iterations desired, and then to iterate over that list. Python contains a command to do this called <tt class="wiki">range</tt>. The <tt class="wiki">range</tt> function takes from one to three arguments. When called with one argument --- e.g. <tt class="wiki">range(x)</tt> --- it returns a list of integers from <tt class="wiki">0</tt> to <tt class="wiki">x-1</tt>. When called with two arguments --- e.g. <tt class="wiki">range(x,y)</tt> --- it returns a list of integers from <tt class="wiki">x</tt> up to and including <tt class="wiki">y-1</tt>. Finally, when called with three arguments --- e.g. <tt class="wiki">range(x,y,step)</tt> --- it returns a list starting at <tt class="wiki">x</tt> and counting up by <tt class="wiki">step</tt>. The downside of using <tt class="wiki">range</tt> is that it must allocate a list. To avoid the memory allocation, Python provides the function <tt class="wiki">xrange(x,[y,step])</tt>. <tt class="wiki">xrange</tt> does not allocate a list, but interacts with a <tt class="wiki">for</tt> loop in exactly the same manner as <tt class="wiki">range</tt>.
<p>
The following code provides an example:
<pre class="code">
&gt;&gt;&gt; for i in range(0,10,2):
...     print i
...
0
2
4
6
8
&gt;&gt;&gt; for i in xrange(0,10,2):
...     print i
...
0
2
4
6
8
</pre>
<p>
You can count backwards too:
<pre class="code">
&gt;&gt;&gt; for i in range(10,0,-2):
...     print i
...
10
8
6
4
2
</pre>
<p>
Notice that the second parameter is never reached. In this manner, it behaves like a C for-loop construct.
<p>
<p>
<h2 width="804"> Functions</h2>
<p>
Function definitions are also compound statements.  The function declaration syntax is as follows:
<pre class="code">
def ../_3Fpage_3DPyroModulePythonIntro/_lt.css;func_name&gt;(../_3Fpage_3DPyroModulePythonIntro/_lt.css;arg_name_1&gt;,...,../_3Fpage_3DPyroModulePythonIntro/_lt.css;arg_name_n&gt;):
     ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;
</pre>
<tt class="wiki">return</tt> statements can be placed anywhere within a function. The function definition imposes no requirement that a function return data of a certain type. In fact, a function can have multiple return statements, each of which returns data of a different type! Similarly, no type requirements are imposed upon function arguments. Finally, it is important to note that function names are considered variables in Python. Thus, they can have new values of any type --- including new functions --- assigned to them on-the-fly.
<p>
Below are a few examples of simple functions, called and executed interactively, from the python shell:
<pre class="code">
&gt;&gt;&gt; def f1(x):
...     print x
...
&gt;&gt;&gt; f1(5)
5
&gt;&gt;&gt; def f2(x)
...     print x*2
...
&gt;&gt;&gt; f2(5)
10
&gt;&gt;&gt; f1                           # note that this only refers to the function
../_3Fpage_3DPyroModulePythonIntro/_lt.css;function f1 at ../_3Fpage_3DPyroModulePythonIntro/_lt.css;some address&gt;&gt;  
&gt;&gt;&gt; f1 = f2   
&gt;&gt;&gt; f1(5)                         # you need an argument list to actually invoke it
10
</pre> 
<p>
<p>
<h2 width="804"> Classes</h2>
As in other languages, Python classes allow the bundling of data and methods to operate on the data, providing an easy way to modularize code.
<p>
<p>
<h3 width="804"> Basic Class Syntax</h3>
The basic syntax of a Python class follows:
<pre class="code">class ../_3Fpage_3DPyroModulePythonIntro/_lt.css;class_name&gt; (../_3Fpage_3DPyroModulePythonIntro/_lt.css;inherit_1&gt;,...,../_3Fpage_3DPyroModulePythonIntro/_lt.css;inherit_n&gt;):
     ../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;</pre>
<p>
A class definition statement creates a <i>class object</i> (different from an <i>instance</i> of a class) called <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;class_name&gt;</tt>. If the list (<tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;inherit_1&gt;,</tt>...<tt class="wiki">,../_3Fpage_3DPyroModulePythonIntro/_lt.css;inherit_n&gt;)</tt> is provided, then <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;class_name&gt;</tt> inherits from each class, <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;inherit_1&gt;,</tt>...<tt class="wiki">,../_3Fpage_3DPyroModulePythonIntro/_lt.css;inherit_n&gt;</tt>, etc. When the class is defined, all the commands in <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;</tt> are executed. Any <i>attributes</i> --- variables, function names, etc. --- defined in <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;body&gt;</tt> are are accessible thereafter through the expression:
<p>
<tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;class_name&gt;.../_3Fpage_3DPyroModulePythonIntro/_lt.css;attribute_name&gt;</tt>
<p>
Furthermore, these identifiers can be assigned to at any time; like functions, class definitions can be changed on-the-fly.
<p>
<p>
<h3 width="804"> Class Instances</h3>
<p>
To create a class instance, call the class as if it were a function.  For example for an already-defined class <tt class="wiki">C</tt>, creating an instance named <tt class="wiki">x</tt> might involve issuing the command:
<p>
<tt class="wiki">x = C()</tt>
<p>
An instance of a class has copies of all of the attributes present inside the class object of which it is an instance. Attributes of an instance can be accessed through a statement of the form <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;instance_name&gt;.../_3Fpage_3DPyroModulePythonIntro/_lt.css;attribute_name&gt;</tt>. Note that if the value of an attribute is changed in the class object, the change is immediately reflected in all existing class instances. However, changes in a class instance have no effect on the class object. An example of the relationship between class objects and class instances is shown below:
<pre class="code">
&gt;&gt;&gt; class A :
...    x = 1    # class attribute
...    def show(self) :
...        return &quot;class A's x is &quot; + str(A.x)
...
&gt;&gt;&gt; a = A()
&gt;&gt;&gt; b = A()
&gt;&gt;&gt; print a.show(), b.show()
class A's x is 1 class A's x is 1
&gt;&gt;&gt;
&gt;&gt;&gt; A.x = 15    # change attribute of the class object
&gt;&gt;&gt; print a.show(), b.show()
class A's x is 15 class A's x is 15
&gt;&gt;&gt;
&gt;&gt;&gt; a.x = 20    # this instance attribute created on-the-fly
&gt;&gt;&gt; print a.show(), b.show() + &quot; and a's x is &quot; + str(a.x)
class A's x is 15 class A's x is 15 and a's x is 20
</pre>
<p>
The scoping rules in Python create potential conflicts inside member functions. In particular, the namespaces of a member function and the class of which it is a member are distinct. To distinguish between these two namespaces, the first argument passed to any method provides access to the instance. By convention, programmers use the name <tt class="wiki">self</tt>. A simple example is shown below:
<pre class="code">
&gt;&gt;&gt; class A :
...    x = 1
...    def f(self, val) :
...        self.x = val
...        x = 999
...        print &quot;class's x is &quot; + str(A.x) + \ # backslash escapes carriage return
...              &quot;, instance's x is &quot; + str(self.x) + \
...              &quot;, and function's x is &quot; + str(x)
...
&gt;&gt;&gt; a = A()
&gt;&gt;&gt; a.f(5)
class's x is 1, instance's x is 5, and function's x is 999
</pre>
<p>
Note that <tt class="wiki">a.f</tt> is invoked via <tt class="wiki">a.f(5)</tt> --- at first glance, the <tt class="wiki">self</tt> argument appears to have been neglected! In fact, for methods, Python provides the <tt class="wiki">self</tt> value automatically. Also note that in the definition of function <tt class="wiki">f</tt>, two different <tt class="wiki">x</tt> identifiers are present --- <tt class="wiki">self.x</tt> and <tt class="wiki">x</tt> --- and these variables remain distinct.
<p>
<p>
<h3 width="804"> Constructors</h3>
<p>
Constructors provide a way of automatically initializing the data stored in a class instance upon instantiation. In Python, the user defines a function called <tt class="wiki">__init__</tt> in each class. Whenever the class is instantiated, <tt class="wiki">__init__</tt> is automatically called.
<p>
An example of a class with a simple constructor is shown below:
<pre class="code">
&gt;&gt;&gt; class B:
...     x = 5
...     def __init__(self, y):
...          self.x = y
&gt;&gt;&gt; B.x
5
&gt;&gt;&gt; B(9).x
9
</pre>
<p>
Note that even if <tt class="wiki">x</tt> has a value in the class object <tt class="wiki">B</tt>, <tt class="wiki">__init__</tt> overrides the value in a particular instance.
<p>
<p>
<h3 width="804"> Private Methods and Data</h3>
<p>
In many other object-oriented languages, there is a concept of private data and methods which cannot be accessed from outside the classes' methods. As of version 1.5, Python provides limited support for class-private identifiers via name-mangling. This feature affords some convenience, but ultimately, privacy relies on programmers following expected conventions.
<p>
<p>
<h3 width="804"> Inheritance</h3>
<p>
Inheritance allows the creation of a new class which incorporates the data and methods of another and builds upon them. The class which provides the initial collection of methods upon which the new class is based is called the <i>base class</i>. The new class is called the <i>derived class</i>. Also, the derived class and any classes derived from it are <i>subclasses</i> of the original base class. The base class is a <i>superclass</i> of the derived class and any classes derived from it.  
<p>
In Python the implementation of inheritance is fairly simple. If an attribute is requested from the derived class, but is not present in the derived class, then the request proceeds up to the immediate superclass. If it is still not found there, the request proceeds up to the next superclass in the hierarchy. At the <b>lowest point in the hierarchy where the attribute is found, a value is returned</b>. A simple of example of a base and derived class are shown below:
<pre class="code">
&gt;&gt;&gt; class Base:
...     x = 5
...
&gt;&gt;&gt; class Derived(Base):
...      y = 6
...
&gt;&gt;&gt; Derived.y
6
&gt;&gt;&gt; Derived.x
5
</pre>
<p>
Note that if a derived class binds a new value to an attribute defined in one of its super-classes, the value in the respective superclass is hidden from view. This behavior is called <i>overriding</i> an attribute of the superclass. Occasionally, however, it is desirable to access superclass attributes, which can be done from inside a derived class by explicitly calling the superclass method through the superclass name. In this case, a reference to <tt class="wiki">self</tt> must be manually passed to this function --- it is not passed in automatically. A common use of this technique is to call the <tt class="wiki">__init__</tt> of a classes' base class in order to initialize the base classes' attributes. Python does <b>not</b> call the base class versions of <tt class="wiki">__init__</tt> automatically.
<p>
An example of manually calling a base class version of <tt class="wiki">__init__</tt> is given below:
<pre class="code">
&gt;&gt;&gt; class B:
...     def __init__(self):
...          self.x = 5
...
&gt;&gt;&gt; class D(B):
...     def __init__(self):
...          B.__init__(self) # calling the base class's constructor manually
...          self.y = 6
&gt;&gt;&gt; D().x
5
&gt;&gt;&gt; D().y
6
</pre>
<p>
<p>
<h2 width="804"> Miscellaneous Items</h2>
<p>
<p>
<h3 width="804"> Functional Programming Tools</h3>
There are three built-in functions that are very useful when used with lists: <tt class="wiki">filter()</tt>, <tt class="wiki">map()</tt>, and <tt class="wiki">reduce()</tt>.
<p>
<tt class="wiki">filter(function, sequence)</tt> returns a sequence (of the same type as <tt class="wiki">sequence</tt>, if possible) consisting of those <tt class="wiki">item</tt>s from <tt class="wiki">sequence</tt> for which <tt class="wiki">function(item)</tt> is true. For example, to compute some primes:
<pre class="code">
&gt;&gt;&gt; def f(x): return x % 2 != 0 and x % 3 != 0
&gt;&gt;&gt; filter(f, range(2, 25))
[5, 7, 11, 13, 17, 19, 23]
</pre>
<p>
<tt class="wiki">map(f, sequence)</tt> calls <tt class="wiki">f(item)</tt> for each of the <tt class="wiki">item</tt>s in <tt class="wiki">sequence</tt> and returns a list for which this function evaluates to <tt class="wiki">True</tt>. For example, to compute some cubes:
<pre class="code">
&gt;&gt;&gt; def cube(x): return x*x*x
&gt;&gt;&gt; map(cube, range(1, 11))
[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]
</pre>
<p>
More than one sequence may be passed; the function must then have as many arguments as there are sequences and is called with the corresponding item from each sequence (or <tt class="wiki">None</tt> if some sequence is shorter than another). For example:
<pre class="code">
&gt;&gt;&gt; seq = range(8)
&gt;&gt;&gt; def add(x, y): return x+y
...
&gt;&gt;&gt; map(add, seq, seq)
[0, 2, 4, 6, 8, 10, 12, 14]
</pre>
<p>
<tt class="wiki">reduce(f, sequence)</tt> returns a single value constructed by calling the two-argument function <tt class="wiki">f</tt> on the first two items of the sequence, then on the result and the next item, and so on. For example, to compute the sum of the numbers <tt class="wiki">1</tt> through <tt class="wiki">10</tt>:
<pre class="code">
&gt;&gt;&gt; def add(x,y): return x+y
...
&gt;&gt;&gt; reduce(add, range(1, 11))
55
</pre>
<p>
If there's only one item in the sequence, its value is returned; if the sequence is empty, an exception is raised.
<p>
A third argument can be passed to indicate the starting value. In this case, the starting value is returned for an empty sequence (no exception is raised). <tt class="wiki">f</tt> is then applied to the starting value and the first sequence item, then to the result and the next item, and so on. For example,
<pre class="code">
&gt;&gt;&gt; def sum(seq):			#DON'T USE THIS
...     def add(x,y): return x+y
...     return reduce(add, seq, 0)
... 
&gt;&gt;&gt; sum(range(1, 11))
55
&gt;&gt;&gt; sum([])
0
</pre>
Don't use this example's definition of <tt class="wiki">sum</tt>! Summing numbers is such a common need that a (faster) built-in function of the same name has already been provided and works exactly like this. 
<p>
<p>
<h3 width="804"> List Comprehensions</h3>
<p>
List comprehensions provide a concise way to create lists without resorting to use of <tt class="wiki">map()</tt>, <tt class="wiki">filter()</tt> and/or <tt class="wiki">lambda</tt> expressions. (A <tt class="wiki">lambda</tt> expression is used to define an anonymous function.) The resulting list definitions tend to be clearer than lists built using those constructs. Each list comprehension consists of an <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt;</tt> followed by a <tt class="wiki">for</tt> clause, then zero or more <tt class="wiki">for</tt> or <tt class="wiki">if</tt> clauses. The result will be a list resulting from evaluating the expression in the context of the <tt class="wiki">for</tt> and <tt class="wiki">if</tt> clauses which follow it. If the expression would evaluate to a tuple, it must be parenthesized.
<p>
More formally, the basic format of a list comprehension is:
<pre class="code">
../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt; for ../_3Fpage_3DPyroModulePythonIntro/_lt.css;target&gt; in ../_3Fpage_3DPyroModulePythonIntro/_lt.css;iterable&gt; ../_3Fpage_3DPyroModulePythonIntro/_lt.css;lc-clauses&gt;
</pre>
<p>
This syntax is treated as an expression and evaluates to a list. For each <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;target&gt;</tt> in <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;iterable&gt;</tt>, <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt;</tt> is evaluated and added to the list. <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;lc-clauses&gt;</tt> allows the user to specify further conditions on when <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt;</tt> is evaluated and added to the list. <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;lc-clauses&gt;</tt> is a series of zero or more statements of the form:
<pre class="code">
for ../_3Fpage_3DPyroModulePythonIntro/_lt.css;target&gt; in ../_3Fpage_3DPyroModulePythonIntro/_lt.css;iterable&gt;
</pre>
<p>
or:
<pre class="code">
if ../_3Fpage_3DPyroModulePythonIntro/_lt.css;test&gt; 
</pre>
<p>
The additional <tt class="wiki">for</tt> statement serves as a nested loop which causes <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt;</tt> to be evaluated during each iteration through the nested loop as well. Additional <tt class="wiki">if</tt> statements place restrictions on the conditions under which the current value of <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt;</tt> will be added to the list. <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;expression&gt;</tt> is evaluated and added to the list only if each following <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;test&gt;</tt> evaluates to <tt class="wiki">True</tt>.
<p>
List comprehensions are best understood through examples. A simple list comprehension which creates a list of items double those in some old list is shown below:
<pre class="code">
&gt;&gt;&gt; oldlist=range(5)
&gt;&gt;&gt; oldlist
[0, 1, 2, 3, 4]
&gt;&gt;&gt; newlist =[x * 2 for x in oldlist]
&gt;&gt;&gt; newlist
[0, 2, 4, 6, 8]
</pre>
<p>
A more complicated example which allows only odd numbers into the new list is shown below:
<pre class="code">
&gt;&gt;&gt; oldlist = range(10)
&gt;&gt;&gt; oldlist
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; newlist =[x for x in oldlist if x % 2]
&gt;&gt;&gt; newlist
[1,3,5,7,9]
</pre>
<p>
A similar example below shows the use of multiple <tt class="wiki">if</tt> statements to filter out all multiples of <tt class="wiki">2</tt> and <tt class="wiki">3</tt>:
<pre class="code">
&gt;&gt;&gt; oldlist = range(10)
&gt;&gt;&gt; oldlist
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; newlist = [x for x in oldlist if x % 2 if x % 3]
&gt;&gt;&gt; newlist
[1, 5, 7]
</pre>
<p>
Finally, the example below shows how to nest additional for-loops inside a list comprehension. Here, it is used to repeat values in a list:
<pre class="code">
&gt;&gt;&gt; newlist = [x for x in range(5) for y in range(3)]
&gt;&gt;&gt; newlist
[0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4]
</pre>
<p>
As mentioned earlier, list comprehensions provide an ideal way to create multidimensional arrays. The code below creates a 5x5 array of zeroes:
<pre class="code">
&gt;&gt;&gt; newarray = [[0 for col in range(3)] for row in range(5)]
&gt;&gt;&gt; print newarray
[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0]]
</pre>
List comprehensions are much more flexible than <tt class="wiki">map()</tt> and can be applied to functions with more than one argument and to nested functions:
<pre class="code">
&gt;&gt;&gt; [str(round(355/113.0, i)) for i in range(1,6)]
['3.1', '3.14', '3.142', '3.1416', '3.14159']
</pre>
<p>
<p>
<h3 width="804"> File I/O</h3>
File objects are considered a built-in type in Python. To create a Python file-object, the built-in function <tt class="wiki">open</tt> is used with the following syntax:
<pre class="code">
../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt; = open(../_3Fpage_3DPyroModulePythonIntro/_lt.css;filename&gt;, mode='r')
</pre>
<p>
Note that <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;filename&gt;</tt> must be a path to a file and <tt class="wiki">mode</tt> must be one of the following values:
<table border="1"><tr><td> Mode </td><td> Effect </td></tr>
<tr><td> <tt class="wiki">'r'</tt>  </td><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> must exist and is opened as read-only </td></tr>
<tr><td> <tt class="wiki">'w'</tt>  </td><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> is opened as write-only, overwritten if it does exist, and created if it does not </td></tr>
<tr><td> <tt class="wiki">'a'</tt>  </td><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> is opened as write-only; if <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> does not exist, it is created; otherwise, it is appended to </td></tr>
<tr><td> <tt class="wiki">'r+'</tt> </td><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> must exist and is opened for reading and writing </td></tr>
<tr><td> <tt class="wiki">'w+'</tt> </td><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> is opened for reading and writing, created if it doesn't exist, and clobbered if it does </td></tr>
<tr><td> <tt class="wiki">'a+'</tt> </td><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;file&gt;</tt> is opened for reading and writing, created if it does not exist, and appended to if it does </td></tr>
</table><p>
Once file object <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;</tt> is created, a number of methods are available for interacting with it:
<table border="1"><tr><td> Function </td><td> Effect </td></tr>
<tr><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;.close()</tt> </td><td> closes the file object <tt class="wiki">f</tt> </td></tr>
<tr><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;.read(size=../_3Fpage_3DPyroModulePythonIntro/_lt.css;num&gt;)</tt></td><td> reads up to <tt class="wiki">size</tt> bytes from <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fob&gt;</tt> and returns them as a string </td></tr>
<tr><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;.readline()</tt> </td><td> reads a single line from <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;</tt>, <tt class="wiki">\n</tt> included, and returns it as a string </td></tr>
<tr><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;.readlines()</tt> </td><td> reads and returns every line in <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;</tt> as strings in a list </td></tr>
<tr><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;.write(../_3Fpage_3DPyroModulePythonIntro/_lt.css;str&gt;)</tt> </td><td> writes string <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;str&gt;</tt> to <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;f&gt;</tt> </td></tr>
<tr><td> <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;.writelines(../_3Fpage_3DPyroModulePythonIntro/_lt.css;seq&gt;)</tt> </td><td> writes each of the strings in <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;seq&gt;</tt>, one after another </td></tr>
</table><p>
The lines in a file can be iterated over as if they were entries in a sequence. Thus, the following syntax is acceptable:
<pre class="code">
for ../_3Fpage_3DPyroModulePythonIntro/_lt.css;variable&gt; in ../_3Fpage_3DPyroModulePythonIntro/_lt.css;fobj&gt;:
     ../_3Fpage_3DPyroModulePythonIntro/_lt.css;do something&gt;
</pre>
<p>
A simple example of writing data to a file and then opening that file in order to echo it back is shown below:
<pre class="code">
&gt;&gt;&gt; outFile = open(&quot;testFile.txt&quot;, mode='w')
&gt;&gt;&gt; outFile.write(&quot;This file gives an example of file I/O!&quot;)
&gt;&gt;&gt; outFile.close()
&gt;&gt;&gt; inFile = open(&quot;testFile.txt&quot;, mode='r')
&gt;&gt;&gt; text = inFile.readline()
&gt;&gt;&gt; print text
This file gives an example of file I/O!
</pre>
<p>
<p>
<h3 width="804"> String Formatting</h3>
For creating strings, Python provides a syntax similar to C's <tt class="wiki">printf</tt>.  The basic syntax of a string-formatting expression is below:
<pre class="code">
../_3Fpage_3DPyroModulePythonIntro/_lt.css;format&gt; % ../_3Fpage_3DPyroModulePythonIntro/_lt.css;values&gt;
</pre>
where <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;format&gt;</tt> is a string containing characters and format specifiers and <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;values&gt;</tt> is a tuple containing the values that are to be replaced via the format specifiers found in the <tt class="wiki">../_3Fpage_3DPyroModulePythonIntro/_lt.css;format&gt;</tt> string.
<p>
Valid format specifiers and the output they generate are described below:
<table border="1"><tr><td> Specifier </td><td> Output Format </td></tr>
<tr><td> <tt class="wiki">%d</tt>, <tt class="wiki">%i</tt> </td><td> signed decimal integer </td></tr>
<tr><td> <tt class="wiki">%u</tt>     </td><td> unsigned decimal integer </td></tr>
<tr><td> <tt class="wiki">%o</tt>     </td><td> unsigned octal integer </td></tr>
<tr><td> <tt class="wiki">%x</tt>, <tt class="wiki">%X</tt>     </td><td> unsigned hexadecimal integers with lowercase and uppercase letters, respectively </td></tr>
<tr><td> <tt class="wiki">%e</tt>, <tt class="wiki">%E</tt>     </td><td> floating-point value in exponential form with lowercase and uppercase <tt class="wiki">e</tt> or <tt class="wiki">E</tt>, respectively </td></tr>
<tr><td> <tt class="wiki">%f</tt>, <tt class="wiki">%F</tt>     </td><td> floating-point value in decimal form </td></tr>
<tr><td> <tt class="wiki">%g</tt>, <tt class="wiki">%G</tt>     </td><td> acts like <tt class="wiki">%e</tt> or <tt class="wiki">%E</tt> when the exponent is greater than <tt class="wiki">4</tt> or less than the precision and like <tt class="wiki">%f</tt> or <tt class="wiki">%F</tt> otherwise </td></tr>
<tr><td> <tt class="wiki">%c</tt>         </td><td> single character </td></tr>
<tr><td> <tt class="wiki">%s</tt>         </td><td> string </td></tr>
</table><p>
Output can be further controlled using a number of optional flags, and of which can be placed after the <tt class="wiki">%</tt>:
<table border="1"><tr><td> Flag </td><td> Effect </td></tr>
<tr><td> <tt class="wiki">0</tt>    </td><td> makes the conversion zero-padded </td></tr>
<tr><td> <tt class="wiki">-</tt>    </td><td> makes the conversion left-justified </td></tr>
<tr><td> space </td><td> places a space before a positive number </td></tr>
<tr><td> <tt class="wiki">+</tt>     </td><td> places the numeric sign (+ or -) before any numeric conversion </td></tr>
</table><p>
Following these flags, two other parameters can be specified if desired:
<table border="1"><tr><td> Syntax </td><td> Effect </td></tr>
<tr><td> any number of digits </td><td> indicates a minimum width for the conversion </td></tr>
<tr><td> <tt class="wiki">.</tt> followed by digits </td><td> indicates a precisions for a a numerical conversion </td></tr>
</table><p>
<p>
<h3 width="804"> Exceptions</h3>
An exception is thrown when Python encounters an error. You can catch an error using the try/except syntax as follows:
<pre class="code">
try:
    ../_3Fpage_3DPyroModulePythonIntro/_lt.css;this code might not work&gt;
except:
    ../_3Fpage_3DPyroModulePythonIntro/_lt.css;do something if it failed&gt;
</pre>
<p>
If there are no errors, the code works as it normally would, and doesn't execute the <tt class="wiki">except</tt> code block. On the other hand, if an error does occur anywhere inside the <tt class="wiki">try</tt> block (or in something that is called in the <tt class="wiki">try</tt> block), then execution immediately jumps to the <tt class="wiki">except</tt> clause.
<p>
Optionally, there is an <tt class="wiki">else</tt> clause with the try syntax:
<pre class="code">
try:
    ../_3Fpage_3DPyroModulePythonIntro/_lt.css;this code might not work&gt;
except:
    ../_3Fpage_3DPyroModulePythonIntro/_lt.css;do something if it failed&gt;
else:
    ../_3Fpage_3DPyroModulePythonIntro/_lt.css;do something if it worked&gt;
</pre>
<p>
Try/except syntax is especially useful in cases where failures might occur:
<pre class="code">
try:
    print robot.x / robot.y
except:
    ../_3Fpage_3DPyroModulePythonIntro/_lt.css;gracefully handle failure&gt;
</pre>
Should <tt class="wiki">print robot.x / robot.y</tt> fail for any reason --- perhaps a divide by zero, perhaps robot.x doesn't exist --- the code has an opportunity to recover and continue. 
<p>
Particular types of errors may also be tested for:
<pre class="code">
try:
    print robot.x / robot.y
except ZeroDivisionError:
    print &quot;can't divide by zero&quot;
except :
    print &quot;some other problem&quot;
</pre>
<p>
You can also <i>throw</i> your own errors in Python:
<pre class="code">
if type(x) != type(&quot;this&quot;) :
   raise TypeError, &quot;x is not a string&quot;
</pre>
<p>
<p>
<h3 width="804"> Keyboard Input</h3>
If you wish to obtain input from the user via a keyboard, use the <tt class="wiki">input</tt> command. For instance:
<pre class="code">
&gt;&gt;&gt; n = input(&quot;enter a number between 1 and 10: &quot;)
enter a number between 1 and 10: 5
&gt;&gt;&gt; n 
5
</pre>
Used this way, <tt class="wiki">input</tt> expects the user to enter an expression that can be successfully evaluated, and literals clearly fulfill this requirement, as do existing variables: 
<pre class="code">
&gt;&gt;&gt; s = input(&quot;enter something: &quot;)
enter something: &quot;peanut butter&quot;
&gt;&gt;&gt; print s
peanut butter
&gt;&gt;&gt; t = input(&quot;enter something else: &quot;)
enter something else: s
&gt;&gt;&gt; print t
peanut butter
</pre>
<p>
Often, we need to verify that a user's input meets particular criteria, a task that is elegantly solved via Python's exception mechanism. For instance, consider a file <tt class="wiki">foo.py</tt> that contains:
<pre class="code">
def userPickFromSet(prompt, allowableValues) :
    &quot;&quot;&quot;
    Returns value from keyboard that is one of a specific set of values.
    &quot;&quot;&quot;
    if prompt != &quot;&quot; :
        prompt += &quot; Choose from &quot; + str(list(allowableValues)) + &quot;: &quot;
    else :
        prompt = &quot;Choose from &quot; + str(list(allowableValues)) + &quot;: &quot;
    tryAgain = True
    msg = prompt
    choice = None
    while tryAgain :
        # loop continues until user enters a valid value
        try :
            choice = input(msg)
            if not choice in allowableValues :
                raise ValueError
        except :
            msg = str(choice) + &quot; was a bad value, try again\n&quot; + prompt
        else :
            tryAgain = False
    return choice
</pre>
<p>
This function could then be used to obtain an integer between 0 and 9:
<pre class="code">
&gt;&gt;&gt; import foo as U
&gt;&gt;&gt; U.userPickFromSet(&quot;enter a value between 0 and 9: &quot;,range(10))
enter a value between 0 and 9:  Choose from [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]: -1
-1 was a bad value, try again!
enter a value between 0 and 9:  Choose from [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]: 11
11 was a bad value, try again!
enter a value between 0 and 9:  Choose from [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]: 4
4
</pre>
<p>
Note also our that Python's <i>docstring</i> functionality can be used here:
<pre class="code">
&gt;&gt;&gt; help(U.userPickFromSet)
</pre>
because we followed the function's header by an informative piece of text:
<pre class="code">
userPickFromSet(prompt, allowableValues)
    Returns value from keyboard that is one of a specific set of values.
</pre>
Similar help functionality for classes is also available provided a comment follows the class' header.
<p>
<p>
<h3 width="804"> Argument Lists and Dictionaries</h3>
When passing arguments to functions wherein their name and/or number can vary, use the <tt class="wiki">*args</tt> and <tt class="wiki">**keywords</tt> special forms:
<ul><li><tt class="wiki">*args</tt> refers to all of the rest of the (non-keyword-based) arguments</li>
<li><tt class="wiki">**kwargs</tt> refers to any remaining keyword-based arguments</li>
</ul><p>
For example:
<pre class="code">
&gt;&gt;&gt; def func1(*args, **kwargs):
...     print args
...     print kwargs
... 
&gt;&gt;&gt; func1(1, 2, 3, d_item1 = &quot;hello&quot;, d_item2 = &quot;world&quot;, name = &quot;testing&quot;)
(1, 2, 3)
{'d_item1': 'hello', 'name': 'testing', 'd_item2': 'world'}
</pre>
<p>
These keywords are handy when writing functions that wrap around other functions, so that you don't know in advance how it will be used:
<pre class="code">
&gt;&gt;&gt; def func1(*args, **kwargs):
...     return func2(*args, **kwargs)
</pre>
<p>
Notice that <tt class="wiki">*</tt> and <tt class="wiki">**</tt> can be used in the sending and receiving of parameters.
<p>
<p>
<h1 width="804"> Further Reading</h1>
<p>
<ol type="1"><li>Downey, A., Elkner, J., Meyers, C. <i>How to Think Like a Computer Scientist</i>. <a href="http://ibiblio.org/obp/thinkCS/python/english/"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;ibiblio.org/obp/thinkCS/python/english/</a>.</li>
<li><i>Python Tutorial</i>. <a href="http://docs.python.org/tut/tut.html"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;docs.python.org/tut/tut.html</a></li>
<li><i>Python Language Website</i>. <a href="http://www.python.org/"><img border="0" width="11" src="../wiki/img/moin-png">&nbsp;www.python.org/</a></li>
</ol><p>
Up: <a href="../page_PyroModulesContents/">PyroModulesContents</a>
<p><hr align="left" width="804"></td></tr>
</table><table width="804" border="0" cellpadding="0" cellspacing="0"><tr><td>[&nbsp;<a href="../page_Pyro/">Home</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroSoftware/">Software</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroCurriculum/">Curriculum</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroHardware/">Hardware</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroCommunity/">Community</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroWhatsNew/">News</a>&nbsp;]</td><td>[&nbsp;<a href="../page_PyroPublications/">Publications</a>&nbsp;]</td><td>[&nbsp;<a href="../page_FindPage/">Search</a>&nbsp;]</td></tr>
<tr><td colspan="8">
<br>
    <a href="http://creativecommons.org/licenses/by-sa/2.0/">
       <img alt="CreativeCommons" border="0" src="../html/somerights.gif">
    </a>
<a href="http://emergent.brynmawr.edu/index.cgi/PyroModulePythonIntro?action=show">View Wiki Source</a> | <a href="http://emergent.brynmawr.edu/index.cgi/PyroModulePythonIntro?action=edit">Edit Wiki Source</a> | <a href="mailto:dblank@cs.brynmawr.edu">Mail Webmaster</a></td></tr>
</table>
</body>
</html>